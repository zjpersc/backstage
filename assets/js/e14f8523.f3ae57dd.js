/*! For license information please see e14f8523.f3ae57dd.js.LICENSE.txt */
"use strict";(self.webpackChunkbackstage_microsite=self.webpackChunkbackstage_microsite||[]).push([[316181],{603905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var a=n(667294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},u="mdxType",f={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(n),h=r,m=u["".concat(l,".").concat(h)]||u[h]||f[h]||o;return n?a.createElement(m,i(i({ref:t},p),{},{components:n})):a.createElement(m,i({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:r,i[1]=s;for(var c=2;c<o;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},405610:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>f,frontMatter:()=>i,metadata:()=>l,toc:()=>p});n(827378);var a=n(603905);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r.apply(this,arguments)}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const i={title:"Software Templates is now in Beta",author:"Ben Lambert, Spotify",authorURL:"https://github.com/benjdlambert",authorImageURL:"https://avatars.githubusercontent.com/u/3645856?v=4"},s=void 0,l={permalink:"/blog/2021/07/26/software-templates-are-now-in-beta",source:"@site/../microsite/blog/2021-07-26-software-templates-are-now-in-beta.md",title:"Software Templates is now in Beta",description:"Software Templates in Beta",date:"2021-07-26T00:00:00.000Z",formattedDate:"July 26, 2021",tags:[],readingTime:3.68,hasTruncateMarker:!0,authors:[{name:"Ben Lambert, Spotify",url:"https://github.com/benjdlambert",imageURL:"https://avatars.githubusercontent.com/u/3645856?v=4"}],frontMatter:{title:"Software Templates is now in Beta",author:"Ben Lambert, Spotify",authorURL:"https://github.com/benjdlambert",authorImageURL:"https://avatars.githubusercontent.com/u/3645856?v=4"},prevItem:{title:"The TechDocs Beta has landed",permalink:"/blog/2021/09/16/the-techdocs-beta-has-landed"},nextItem:{title:"Announcing the Backstage Search platform: a customizable search tool built just for you",permalink:"/blog/2021/06/24/announcing-backstage-search-platform"}},c={authorsImageUrls:[void 0]},p=[{value:"Anddddd\u2026 Action(s)! \ud83c\udfac",id:"anddddd-actions-",level:2},{value:"Template actions",id:"template-actions",level:3},{value:"Custom UI extensions",id:"custom-ui-extensions",level:3},{value:"Horizontal scalability",id:"horizontal-scalability",level:3},{value:"Try out the new templates",id:"try-out-the-new-templates",level:2}],u={toc:p};function f(e){var{components:t}=e,i=o(e,["components"]);return(0,a.kt)("wrapper",r({},u,i,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Software Templates in Beta",src:n(548940).Z,width:"960",height:"540"})),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"TLDR"),"; At a high level, Backstage performs three main jobs: ",(0,a.kt)("a",r({parentName:"p"},{href:"https://backstage.io/blog/2021/05/20/adopting-backstage#three-jobs-create-manage-explore"}),"Create, Manage, and Explore"),". Throughout the year, we\u2019ve been focussed on improving the stability and scalability of these areas while enhancing the feature sets based upon requests from the community. Software Templates \u2014 which enable push-button deployments with all your standards and best practices built-in \u2014 is our first feature-complete release candidate to graduate to beta. Read on to learn how this release improves template customization and flexibility, as well as performance."),(0,a.kt)("p",null,"Let\u2019s rewind a little bit, around a year in fact. Backstage had been open sourced, and we released our first version of Software Templates and our Scaffolder plugin."),(0,a.kt)("p",null,"In case you missed it, ",(0,a.kt)("a",r({parentName:"p"},{href:"https://backstage.io/blog/2020/08/05/announcing-backstage-software-templates"}),"Software Templates")," are part of the Create feature set, where you can set up Backstage to give your engineers the ability to spin up a new microservice, website, or any other software component with your organization\u2019s best practices built-in, right from the start."),(0,a.kt)("p",null,"Back when we released the first version of these templates, with the ",(0,a.kt)("inlineCode",{parentName:"p"},"apiVersion")," ",(0,a.kt)("inlineCode",{parentName:"p"},"backstage.io/v1alpha1"),", they were a little restrictive in what they could do. The generated repository could only have one template source and it was restricted to only being ",(0,a.kt)("a",r({parentName:"p"},{href:"https://github.com/cookiecutter/cookiecutter"}),"cookiecutter")," templates. And it had to fit into the three stages of templating which was ",(0,a.kt)("inlineCode",{parentName:"p"},"Prepare"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"Template"),", and ",(0,a.kt)("inlineCode",{parentName:"p"},"Publish"),"."),(0,a.kt)("p",null,"We ",(0,a.kt)("a",r({parentName:"p"},{href:"https://github.com/backstage/backstage/issues/2771"}),"opened up for feedback")," from the community knowing that this wasn\u2019t going to be the final version, but something of a stepping stone to where we want to be in the future."),(0,a.kt)("p",null,"And now we come to today\u2026"),(0,a.kt)("h2",r({},{id:"anddddd-actions-"}),"Anddddd\u2026 Action(s)! \ud83c\udfac"),(0,a.kt)("p",null,"Following the removal of the previously deprecated ",(0,a.kt)("inlineCode",{parentName:"p"},"backstage.io/v1alpha1")," templates, today we\u2019re officially announcing the beta version of Software Templates, or ",(0,a.kt)("inlineCode",{parentName:"p"},"backstage.io/v1beta2"),"."),(0,a.kt)("p",null,"With it comes an entirely new architecture to the Software Templates functionality, and a load of new exciting features, which I\u2019ll dig into a little deeper."),(0,a.kt)("h3",r({},{id:"template-actions"}),"Template actions"),(0,a.kt)("p",null,"We\u2019ve totally opened up the ability to compose your own workflows for each Template that you have registered in Software Templates. This means no restrictions on where your template skeleton is kept, and no restrictions on what your workflow should look like."),(0,a.kt)("p",null,"Template Actions are customizable JavaScript functions that allow you to extend the capabilities of the Software Templates by adding your own business logic or reusing some of our Built-In actions."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"New template syntax with actions",src:n(209162).Z,width:"1222",height:"2344"})),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"An example of the new template syntax with steps and parameters")),(0,a.kt)("p",null,"The workflow for Software Templates are now step-based, and each Software Template can have a customizable amount of steps which will in turn call these new actions."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"New steps being rendered in the frontend",src:n(270301).Z,width:"800",height:"449"})),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"An example of a Template with customizable steps")),(0,a.kt)("p",null,"These actions are very heavily inspired by GitHub Actions and GitHub Workflows, and we\u2019ve given back a lot of control to the template authors so they can build the boilerplate and push the code however they want."),(0,a.kt)("h3",r({},{id:"custom-ui-extensions"}),"Custom UI extensions"),(0,a.kt)("p",null,"A large part of the Software Templates feature is the form that we use to collect user input which is then passed on to these new actions. Sometimes, it makes sense that Template Authors want to provide their own React components which can be rendered in the frontend to maybe do some more complex things like calling internal APIs to provide autocomplete."),(0,a.kt)("p",null,"This is now possible with the new ",(0,a.kt)("inlineCode",{parentName:"p"},"ScaffolderFieldExtensions"),"."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Custom UI extensions",src:n(498512).Z,width:"600",height:"264"})),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"An example of ",(0,a.kt)("inlineCode",{parentName:"em"},"ScaffolderFieldExtension")," is the ",(0,a.kt)("inlineCode",{parentName:"em"},"OwnerPicker")," component which can automatically add options and suggest typeahead with data from an async API request")),(0,a.kt)("p",null,"Template Authors can create their own components to provide data to the custom actions in any way you see fit, and even override our own built in ones too like the ",(0,a.kt)("inlineCode",{parentName:"p"},"RepoUrlPicker"),"."),(0,a.kt)("h3",r({},{id:"horizontal-scalability"}),"Horizontal scalability"),(0,a.kt)("p",null,"The Scaffolder Service and Software Templates are now horizontally scalable, coordinating work between your deployed backend machines. This means now that the number of instances of the ",(0,a.kt)("inlineCode",{parentName:"p"},"@backstage/plugin-scaffolder-backend")," plugin you have, is the same amount of jobs that you can have in parallel. This ensures that your tasks are handled quickly and reliably, while providing great feedback in the process."),(0,a.kt)("h2",r({},{id:"try-out-the-new-templates"}),"Try out the new templates"),(0,a.kt)("p",null,"We\u2019re still on the journey to making the Software Templates a great user experience for both authors and developers \u2014 but we\u2019re not done yet, so watch this space for new exciting features to come!"),(0,a.kt)("p",null,"In the meantime, make sure to visit the documentation for ",(0,a.kt)("a",r({parentName:"p"},{href:"https://backstage.io/docs/features/software-templates/adding-templates"}),"building templates")," or creating your own ",(0,a.kt)("a",r({parentName:"p"},{href:"https://backstage.io/docs/features/software-templates/writing-custom-actions"}),"custom actions"),"."))}f.isMDXComponent=!0},548940:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/backstage-software-templates-beta-e96cede6e6b3984bc58a51ec33f37b1c.gif"},498512:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/custom-components-521c107f29bb24a8940e0ea5251019a9.gif"},209162:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/example-template-code-066dacd07a7b382230d0edaa0ea5ffdb.png"},270301:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/steps-running-b4ac03c38b16e1d6af751d029a525f50.gif"},862525:e=>{var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(e){a[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(r){return!1}}()?Object.assign:function(e,o){for(var i,s,l=r(e),c=1;c<arguments.length;c++){for(var p in i=Object(arguments[c]))n.call(i,p)&&(l[p]=i[p]);if(t){s=t(i);for(var u=0;u<s.length;u++)a.call(i,s[u])&&(l[s[u]]=i[s[u]])}}return l}},541535:(e,t,n)=>{var a=n(862525),r=60103,o=60106;var i=60109,s=60110,l=60112;var c=60115,p=60116;if("function"==typeof Symbol&&Symbol.for){var u=Symbol.for;r=u("react.element"),o=u("react.portal"),u("react.fragment"),u("react.strict_mode"),u("react.profiler"),i=u("react.provider"),s=u("react.context"),l=u("react.forward_ref"),u("react.suspense"),c=u("react.memo"),p=u("react.lazy")}var f="function"==typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d={};function b(e,t,n){this.props=e,this.context=t,this.refs=d,this.updater=n||m}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=d,this.updater=n||m}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=b.prototype;var g=w.prototype=new y;g.constructor=w,a(g,b.prototype),g.isPureReactComponent=!0;var k={current:null},v=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function j(e,t,n){var a,o={},i=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)v.call(t,a)&&!O.hasOwnProperty(a)&&(o[a]=t[a]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),p=0;p<l;p++)c[p]=arguments[p+2];o.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===o[a]&&(o[a]=l[a]);return{$$typeof:r,type:e,key:i,ref:s,props:o,_owner:k.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var S=/\/+/g;function x(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,n,a,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case o:l=!0}}if(l)return i=i(l=e),e=""===a?"."+x(l,0):a,Array.isArray(i)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),P(i,t,n,"",(function(e){return e}))):null!=i&&(T(i)&&(i=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(S,"$&/")+"/")+e)),t.push(i)),1;if(l=0,a=""===a?".":a+":",Array.isArray(e))for(var c=0;c<e.length;c++){var p=a+x(s=e[c],c);l+=P(s,t,n,p,i)}else if(p=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof p)for(e=p.call(e),c=0;!(s=e.next()).done;)l+=P(s=s.value,t,n,p=a+x(s,c++),i);else if("object"===s)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function C(e,t,n){if(null==e)return e;var a=[],r=0;return P(e,a,"","",(function(e){return t.call(n,e,r++)})),a}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var _={current:null};function A(){var e=_.current;if(null===e)throw Error(h(321));return e}},827378:(e,t,n)=>{n(541535)}}]);