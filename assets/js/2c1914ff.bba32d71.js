/*! For license information please see 2c1914ff.bba32d71.js.LICENSE.txt */
"use strict";(self.webpackChunkbackstage_microsite=self.webpackChunkbackstage_microsite||[]).push([[199415],{603905:(e,t,r)=>{r.d(t,{Zo:()=>l,kt:()=>d});var a=r(667294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,a,o=function(e,t){if(null==e)return{};var r,a,o={},n=Object.keys(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var p=a.createContext({}),c=function(e){var t=a.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},l=function(e){var t=c(e.components);return a.createElement(p.Provider,{value:t},e.children)},u="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},f=a.forwardRef((function(e,t){var r=e.components,o=e.mdxType,n=e.originalType,p=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),u=c(r),f=o,d=u["".concat(p,".").concat(f)]||u[f]||h[f]||n;return r?a.createElement(d,i(i({ref:t},l),{},{components:r})):a.createElement(d,i({ref:t},l))}));function d(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var n=r.length,i=new Array(n);i[0]=f;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s[u]="string"==typeof e?e:o,i[1]=s;for(var c=2;c<n;c++)i[c]=r[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,r)}f.displayName="MDXCreateElement"},222021:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>i,metadata:()=>p,toc:()=>l});r(827378);var a=r(603905);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o.apply(this,arguments)}function n(e,t){if(null==e)return{};var r,a,o=function(e,t){if(null==e)return{};var r,a,o={},n=Object.keys(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const i={title:"Avoid upgrade surprises with Backstage Upgrade Helper",author:"Vincenzo Scamporlino, Spotify",authorURL:"https://github.com/vinzscam",authorImageURL:"https://avatars.githubusercontent.com/u/8433119?v=4"},s=void 0,p={permalink:"/blog/2022/03/04/backstage-upgrade-helper",source:"@site/../microsite/blog/2022-03-04-backstage-upgrade-helper.md",title:"Avoid upgrade surprises with Backstage Upgrade Helper",description:"backstage header",date:"2022-03-04T00:00:00.000Z",formattedDate:"March 4, 2022",tags:[],readingTime:3.9,hasTruncateMarker:!0,authors:[{name:"Vincenzo Scamporlino, Spotify",url:"https://github.com/vinzscam",imageURL:"https://avatars.githubusercontent.com/u/8433119?v=4"}],frontMatter:{title:"Avoid upgrade surprises with Backstage Upgrade Helper",author:"Vincenzo Scamporlino, Spotify",authorURL:"https://github.com/vinzscam",authorImageURL:"https://avatars.githubusercontent.com/u/8433119?v=4"},prevItem:{title:"Backstage Turns Two!",permalink:"/blog/2022/03/16/backstage-turns-two"},nextItem:{title:"Say Hi to Backstage homepage templates!",permalink:"/blog/2022/01/25/backstage-homepage-templates"}},c={authorsImageUrls:[void 0]},l=[{value:"Upgrading Backstage was a common pain point",id:"upgrading-backstage-was-a-common-pain-point",level:2},{value:"So what is Backstage Upgrade Helper?",id:"so-what-is-backstage-upgrade-helper",level:2},{value:"To use the Upgrade Helper, follow these simple steps",id:"to-use-the-upgrade-helper-follow-these-simple-steps",level:3},{value:"Open source inspires",id:"open-source-inspires",level:2}],u={toc:l};function h(e){var{components:t}=e,i=n(e,["components"]);return(0,a.kt)("wrapper",o({},u,i,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"backstage header",src:r(140737).Z,width:"1201",height:"631"})),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"TLDR;")," The Spotify team recently announced ",(0,a.kt)("a",o({parentName:"p"},{href:"https://backstage.github.io/upgrade-helper"}),"Backstage Upgrade Helper"),": a tool that helps adopters keep their Backstage application up-to-date. ",(0,a.kt)("strong",{parentName:"p"},"Spoiler alert"),": this is also a hidden and heartwarming tale about the beauty of open source innovation."),(0,a.kt)("h2",o({},{id:"upgrading-backstage-was-a-common-pain-point"}),"Upgrading Backstage was a common pain point"),(0,a.kt)("p",null,"Without a doubt, one of the most exciting things about Backstage is our community. Step into our daily ",(0,a.kt)("a",o({parentName:"p"},{href:"https://discord.gg/backstage-687207715902193673"}),"Discord conversations")," and the monthly ",(0,a.kt)("a",o({parentName:"p"},{href:"https://www.youtube.com/watch?v=0QMQYSTKAx0"}),"Community Sessions")," and you\u2019ll find a ton of great ideas, problem-solving, and support for one another."),(0,a.kt)("p",null,"During one of these discussions, we realized we all shared the same pain point \u2014 upgrading a Backstage application."),(0,a.kt)("p",null,"The Backstage open source project is in hyper-growth mode, where dozens of pull requests are merged each day. This means adopters need to go through the upgrade process more often in order to get the latest and greatest features. The Spotify team heard a lot of feedback about how painful and manual this process was \u2014 so we decided to tackle this problem during one of our internal Hack Days."),(0,a.kt)("p",null,"At Spotify, we run Hack Days every month and a lot of ideas come from those sessions (in fact, the idea to open source Backstage itself ",(0,a.kt)("a",o({parentName:"p"},{href:"https://open.spotify.com/episode/332yTwGiILGKTS7dsHCj2P"}),"was born on a Hack Day"),"!). During a brainstorming session, we noticed that another open source community faced a similar upgrading problem years back and came up with a really good solution."),(0,a.kt)("p",null,"If you have ever worked on a React Native project, you might immediately recognize what we are referring to: The ",(0,a.kt)("a",o({parentName:"p"},{href:"https://github.com/react-native-community/upgrade-helper"}),"React Native Upgrade Helper")," \u2014 a web tool to support React Native developers in upgrading their apps \u2014 might have saved hours of your time. It certainly saved us hours of ours. So we looked into the project details and discovered it could fulfill our Backstage needs."),(0,a.kt)("p",null,"We started by creating a fork from React Native\u2019s open source project, applying a few changes on top of it to introduce Backstage support, and \u2014 ",(0,a.kt)("em",{parentName:"p"},"ecco")," \u2014 we had a new Backstage Upgrade Helper! In just a few days with pretty minimal effort, we created a product that would save a lot of time for the entire Backstage community. And we had fun at the same time (happy developers make happy code \ud83d\ude01 )."),(0,a.kt)("h2",o({},{id:"so-what-is-backstage-upgrade-helper"}),"So what is Backstage Upgrade Helper?"),(0,a.kt)("p",null,"The Backstage Upgrade Helper tool enables adopters to easily upgrade their Backstage app by using the power of git to create a diff between different versions."),(0,a.kt)("p",null,"Whenever a new version of Backstage is released, the Helper scaffolds a new sample Backstage app using the ",(0,a.kt)("inlineCode",{parentName:"p"},"backstage-create-app")," cli utility and checks all the generated files in a specific git branch. After the branch is generated, it gets compared with all the existing ones, which results in generating specific git patches stored in specific files. By selecting the version of the current Backstage release together with the version you want to upgrade to, the UI knows which patch file needs to be picked up."),(0,a.kt)("p",null,"So, now you can update your Backstage application in three steps rather than manually reading the changelogs of all the Backstage modules in reverse order."),(0,a.kt)("h3",o({},{id:"to-use-the-upgrade-helper-follow-these-simple-steps"}),"To use the Upgrade Helper, follow these simple steps"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Go to the ",(0,a.kt)("a",o({parentName:"p"},{href:"https://backstage.github.io/upgrade-helper"}),"Backstage Upgrade Helper")," and enter your current release and the release you would like to upgrade to.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Press ",(0,a.kt)("strong",{parentName:"p"},"Show me how to upgrade!")," After that, the feature spits out the changes between the two Backstage versions in a split-screen view for easy comparison."),(0,a.kt)("p",{parentName:"li"},(0,a.kt)("img",{alt:"Backstage Upgrade Helper in action",src:r(494266).Z,width:"1200",height:"794"}))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Apply the suggested changes to your source code to correctly upgrade your app to the selected Backstage version. This will let you directly migrate from the version you\u2019re currently using to the target version and skip all the intermediate steps you would have otherwise gone through manually reading all the changelogs."))),(0,a.kt)("p",null,(0,a.kt)("a",o({parentName:"p"},{href:"https://youtu.be/nYjI2j-lWEM?t=410"}),"Watch the Upgrade Helper demo"),"."),(0,a.kt)("h2",o({},{id:"open-source-inspires"}),"Open source inspires"),(0,a.kt)("p",null,"Thus far, the Backstage Upgrade Helper has gotten a lot of good feedback from the community and we\u2019re sure to see awesome contributions in the future. But all the credit behind this idea goes to the React Native community."),(0,a.kt)("p",null,"With React Native\u2019s open source contributions, we were able to quickly solve a tough problem for the entire Backstage community. Not only did React Native\u2019s project save us time creating a new product, but it has also saved our adopters time upgrading Backstage."),(0,a.kt)("p",null,"This is why we love working in open source. The hard work done for one community has the power to influence and inspire another community. We hope Backstage can do the same and pay it forward to other open source projects."),(0,a.kt)("p",null,"For more Backstage Upgrade Helper resources, check out the ",(0,a.kt)("a",o({parentName:"p"},{href:"https://github.com/backstage/upgrade-helper"}),"UI code")," and the ",(0,a.kt)("a",o({parentName:"p"},{href:"https://github.com/backstage/upgrade-helper-diff"}),"git patches"),"."))}h.isMDXComponent=!0},140737:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/backstage-upgrade-helper-post-header-7644246a66a82cdaa842cecaa203d64e.png"},494266:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/backstage-upgrade-helper-ee80827e66fe95f734561313920d2c35.gif"},862525:e=>{var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(e){a[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(o){return!1}}()?Object.assign:function(e,n){for(var i,s,p=o(e),c=1;c<arguments.length;c++){for(var l in i=Object(arguments[c]))r.call(i,l)&&(p[l]=i[l]);if(t){s=t(i);for(var u=0;u<s.length;u++)a.call(i,s[u])&&(p[s[u]]=i[s[u]])}}return p}},541535:(e,t,r)=>{var a=r(862525),o=60103,n=60106;var i=60109,s=60110,p=60112;var c=60115,l=60116;if("function"==typeof Symbol&&Symbol.for){var u=Symbol.for;o=u("react.element"),n=u("react.portal"),u("react.fragment"),u("react.strict_mode"),u("react.profiler"),i=u("react.provider"),s=u("react.context"),p=u("react.forward_ref"),u("react.suspense"),c=u("react.memo"),l=u("react.lazy")}var h="function"==typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function m(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||d}function y(){}function k(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||d}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var b=k.prototype=new y;b.constructor=k,a(b,m.prototype),b.isPureReactComponent=!0;var v={current:null},w=Object.prototype.hasOwnProperty,j={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,r){var a,n={},i=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)w.call(t,a)&&!j.hasOwnProperty(a)&&(n[a]=t[a]);var p=arguments.length-2;if(1===p)n.children=r;else if(1<p){for(var c=Array(p),l=0;l<p;l++)c[l]=arguments[l+2];n.children=c}if(e&&e.defaultProps)for(a in p=e.defaultProps)void 0===n[a]&&(n[a]=p[a]);return{$$typeof:o,type:e,key:i,ref:s,props:n,_owner:v.current}}function S(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var B=/\/+/g;function N(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,r,a,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var p=!1;if(null===e)p=!0;else switch(s){case"string":case"number":p=!0;break;case"object":switch(e.$$typeof){case o:case n:p=!0}}if(p)return i=i(p=e),e=""===a?"."+N(p,0):a,Array.isArray(i)?(r="",null!=e&&(r=e.replace(B,"$&/")+"/"),T(i,t,r,"",(function(e){return e}))):null!=i&&(S(i)&&(i=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,r+(!i.key||p&&p.key===i.key?"":(""+i.key).replace(B,"$&/")+"/")+e)),t.push(i)),1;if(p=0,a=""===a?".":a+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=a+N(s=e[c],c);p+=T(s,t,r,l,i)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)p+=T(s=s.value,t,r,l=a+N(s,c++),i);else if("object"===s)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return p}function U(e,t,r){if(null==e)return e;var a=[],o=0;return T(e,a,"","",(function(e){return t.call(r,e,o++)})),a}function P(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var _={current:null};function H(){var e=_.current;if(null===e)throw Error(f(321));return e}},827378:(e,t,r)=>{r(541535)}}]);