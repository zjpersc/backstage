/*! For license information please see eb8bfc59.951dc973.js.LICENSE.txt */
"use strict";(self.webpackChunkbackstage_microsite=self.webpackChunkbackstage_microsite||[]).push([[336594],{603905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>g});var a=n(667294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=c(n),h=r,g=u["".concat(s,".").concat(h)]||u[h]||d[h]||i;return n?a.createElement(g,o(o({ref:t},p),{},{components:n})):a.createElement(g,o({ref:t},p))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=h;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:r,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},464182:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>p});n(827378);var a=n(603905);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const o={id:"versioning-policy",title:"Release & Versioning Policy",description:"The process and policy for releasing and versioning Backstage"},l=void 0,s={unversionedId:"overview/versioning-policy",id:"overview/versioning-policy",title:"Release & Versioning Policy",description:"The process and policy for releasing and versioning Backstage",source:"@site/../docs/overview/versioning-policy.md",sourceDirName:"overview",slug:"/overview/versioning-policy",permalink:"/docs/overview/versioning-policy",draft:!1,editUrl:"https://github.com/backstage/backstage/edit/master/docs/../docs/overview/versioning-policy.md",tags:[],version:"current",frontMatter:{id:"versioning-policy",title:"Release & Versioning Policy",description:"The process and policy for releasing and versioning Backstage"},sidebar:"docs",previous:{title:"Strategies for adopting",permalink:"/docs/overview/adopting"},next:{title:"Backstage Threat Model",permalink:"/docs/overview/threat-model"}},c={},p=[{value:"Release Lines",id:"release-lines",level:2},{value:"Main Release Line",id:"main-release-line",level:2},{value:"Next Release Line",id:"next-release-line",level:2},{value:"Release Versioning Policy",id:"release-versioning-policy",level:2},{value:"Skew Policy",id:"skew-policy",level:3},{value:"Package Versioning Policy",id:"package-versioning-policy",level:2},{value:"Changes that are Not Considered Breaking",id:"changes-that-are-not-considered-breaking",level:3},{value:"Release Stages",id:"release-stages",level:3},{value:"Node.js Releases",id:"nodejs-releases",level:2}],u={toc:p};function d(e){var{components:t}=e,n=i(e,["components"]);return(0,a.kt)("wrapper",r({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"The Backstage project is comprised of a set of software components that together\nform the Backstage platform. These components are both plugins as well as core\nplatform libraries and tools. Each component is distributed as a collection of\n",(0,a.kt)("a",r({parentName:"p"},{href:"https://en.wikipedia.org/wiki/Npm_(software)"}),"packages"),", which in the end is\nwhat you end up consuming as an adopter of Backstage."),(0,a.kt)("p",null,"The number of Backstage packages that build up an application can be quite\nlarge, in the order of hundreds, with just the core platform packages being\ncounted in the dozen. This creates a challenge for the integrators of a\nBackstage project, as there are a lot of moving parts and pieces to keep up to\ndate."),(0,a.kt)("p",null,"Our solution to this is collecting our most used components and their packages\ninto an umbrella version that we call a Backstage release. Each release is a\ncollection of packages at specific versions that have been verified to work\ntogether. Think of it as a toolbox that comes with batteries included, but you\ncan always add more plugins and libraries from the open source ecosystem as well\nas build your own."),(0,a.kt)("h2",r({},{id:"release-lines"}),"Release Lines"),(0,a.kt)("p",null,'The Backstage project is structured around two different release lines, a\nprimary "main" release line, and a "next" release line that serves as a preview\nand pre-release of the next main-line release. Each of these release lines have\ntheir own release cadence and versioning policy.'),(0,a.kt)("h2",r({},{id:"main-release-line"}),"Main Release Line"),(0,a.kt)("p",null,"Release cadence: Monthly"),(0,a.kt)("p",null,"The main release line in versioned with a major, minor and patch version but\ndoes ",(0,a.kt)("strong",{parentName:"p"},"not")," adhere to ",(0,a.kt)("a",r({parentName:"p"},{href:"https://semver.org"}),"semver"),". The version format is\n",(0,a.kt)("inlineCode",{parentName:"p"},"<major>.<minor>.<patch>"),", for example ",(0,a.kt)("inlineCode",{parentName:"p"},"1.3.0"),"."),(0,a.kt)("p",null,"An increment of the major version denotes a significant improvement or change to\nthe Backstage platform. It may come with a large new set of features, or a\nswitch in the product direction. These will be few and far between, and do not\nhave any set cadence. Policy-wise they are no different than a minor release."),(0,a.kt)("p",null,"Each regularly scheduled release will bring an increment to the minor version,\nas long as it is not a major release. Each new minor version can contain new\nfunctionality, breaking changes, and bug fixes, according the\n",(0,a.kt)("a",r({parentName:"p"},{href:"#release-versioning-policy"}),"versioning policy"),"."),(0,a.kt)("p",null,"Patch versions will only be released to address critical bug fixes. They are not\nbound to the regular cadence and are instead released whenever needed."),(0,a.kt)("h2",r({},{id:"next-release-line"}),"Next Release Line"),(0,a.kt)("p",null,"Release cadence: Weekly"),(0,a.kt)("p",null,"The next release line is a weekly release of the project. Consuming these\nreleases gives you early access to upcoming functionality in Backstage. There\nare however fewer guarantees around breaking changes in these releases, where\nmoving from one release to the next may introduce significant breaking changes."),(0,a.kt)("h2",r({},{id:"release-versioning-policy"}),"Release Versioning Policy"),(0,a.kt)("p",null,"The following versioning policy applies to the main-line releases only."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Breaking changes in Packages that have reached version ",(0,a.kt)("inlineCode",{parentName:"li"},">=1.0.0")," will only be\ndone when necessary and with the goal of having minimal impact. When possible,\nthere will always be a deprecation path for a breaking change."),(0,a.kt)("li",{parentName:"ul"},"Security fixes ",(0,a.kt)("strong",{parentName:"li"},"may")," be backported to older releases based on the simplicity\nof the upgrade path, and the severity of the vulnerability."),(0,a.kt)("li",{parentName:"ul"},"Bug reports are valid only if reproducible in the most recent release, and bug\nfixes are only applied to the next release."),(0,a.kt)("li",{parentName:"ul"},"We will do our best to adhere to this policy.")),(0,a.kt)("h3",r({},{id:"skew-policy"}),"Skew Policy"),(0,a.kt)("p",null,"In order for Backstage to function properly the following versioning rules must\nbe followed. The rules are referring to the\n",(0,a.kt)("a",r({parentName:"p"},{href:"https://backstage.io/docs/overview/architecture-overview#package-architecture"}),"Package Architecture"),"."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"The versions of all the packages in the ",(0,a.kt)("inlineCode",{parentName:"li"},"Frontend App Core")," must be from the\nsame release, and it is recommended to keep ",(0,a.kt)("inlineCode",{parentName:"li"},"Common Tooling")," on that release\ntoo."),(0,a.kt)("li",{parentName:"ul"},"The Backstage dependencies of any given plugin should be from the same\nrelease. This includes the packages from ",(0,a.kt)("inlineCode",{parentName:"li"},"Common Libraries"),",\n",(0,a.kt)("inlineCode",{parentName:"li"},"Frontend Plugin Core"),", and ",(0,a.kt)("inlineCode",{parentName:"li"},"Frontend Libraries"),", or alternatively the\n",(0,a.kt)("inlineCode",{parentName:"li"},"Backend Libraries"),"."),(0,a.kt)("li",{parentName:"ul"},"There must be no package that is from a newer release than the\n",(0,a.kt)("inlineCode",{parentName:"li"},"Frontend App Core")," packages in the app."),(0,a.kt)("li",{parentName:"ul"},"Frontend plugins with a corresponding backend plugin should be from the same\nrelease. The update to the backend plugin ",(0,a.kt)("strong",{parentName:"li"},"MUST")," be deployed before or\ntogether with the update to the frontend plugin.")),(0,a.kt)("h2",r({},{id:"package-versioning-policy"}),"Package Versioning Policy"),(0,a.kt)("p",null,"Every individual package is versioned according to ",(0,a.kt)("a",r({parentName:"p"},{href:"https://semver.org"}),"semver"),".\nThis versioning is completely decoupled from the Backstage release versioning,\nmeaning you might for example have ",(0,a.kt)("inlineCode",{parentName:"p"},"@backstage/core-plugin-api")," version ",(0,a.kt)("inlineCode",{parentName:"p"},"3.1.4"),"\nbe part of the ",(0,a.kt)("inlineCode",{parentName:"p"},"1.12")," Backstage release."),(0,a.kt)("p",null,"The following versioning policy applies to all packages:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Breaking changes are noted in the changelog, and documentation is updated."),(0,a.kt)("li",{parentName:"ul"},"Breaking changes are prefixed with ",(0,a.kt)("inlineCode",{parentName:"li"},"**BREAKING**: ")," in the changelog."),(0,a.kt)("li",{parentName:"ul"},"All public exports are considered stable and will have an entry in the\nchangelog"),(0,a.kt)("li",{parentName:"ul"},"Breaking changes are recommended to document a clear upgrade path in the\nchangelog. This may be omitted for newly introduced or unstable packages.")),(0,a.kt)("p",null,"For packages at version ",(0,a.kt)("inlineCode",{parentName:"p"},"1.0.0")," or above, the following policy also applies:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"All exports are marked with a ",(0,a.kt)("a",r({parentName:"li"},{href:"#release-stages"}),"release stage"),"."),(0,a.kt)("li",{parentName:"ul"},"Breaking changes to stable exports include a deprecation phase if possible.\nThe deprecation must have been released for at least one mainline release\nbefore it can be removed."),(0,a.kt)("li",{parentName:"ul"},"The release of breaking changes document a clear upgrade path in the\nchangelog, both when deprecations are introduced and when they are removed."),(0,a.kt)("li",{parentName:"ul"},"Breaking changes to ",(0,a.kt)("inlineCode",{parentName:"li"},"@alpha")," or ",(0,a.kt)("inlineCode",{parentName:"li"},"@beta")," exports must result in at least a minor\nversion bump, and may be done without a deprecation period.")),(0,a.kt)("h3",r({},{id:"changes-that-are-not-considered-breaking"}),"Changes that are Not Considered Breaking"),(0,a.kt)("p",null,"There are a few changes that would typically be considered breaking changes, but\nthat we make exceptions for. This is both to be able to evolve the project more\nrapidly, also because the alternative ends up having a bigger impact on users."),(0,a.kt)("p",null,"For all Utility APIs and Backend Services that ",(0,a.kt)("em",{parentName:"p"},"have")," a built-in implementation,\nwe only consider the API stability for consumers of those interfaces. This means\nthat it is not considered a breaking change to break the contract for producers\nof the interface."),(0,a.kt)("p",null,"Changes that fall under the above rule, must be marked with\n",(0,a.kt)("inlineCode",{parentName:"p"},"**BREAKING PRODUCERS**:")," in the changelog."),(0,a.kt)("p",null,"For any case of dependency injection, it is not considered a breaking change to\nadd a dependency on a Utility API or Backend Service that is provided by the\nframework. This includes any dependency that is provided by the\n",(0,a.kt)("inlineCode",{parentName:"p"},"@backstage/app-defaults")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"@backstage/backend-defaults")," packages."),(0,a.kt)("h3",r({},{id:"release-stages"}),"Release Stages"),(0,a.kt)("p",null,"The release stages(",(0,a.kt)("inlineCode",{parentName:"p"},"@alpha"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"@beta")," ",(0,a.kt)("inlineCode",{parentName:"p"},"@public"),") refers to the\n",(0,a.kt)("a",r({parentName:"p"},{href:"https://tsdoc.org/"}),"TSDoc")," documentation tag of the export, and are also\nvisible in the API report of each package."),(0,a.kt)("p",null,"Backstage uses three stages to indicate the stability for each individual\npackage export."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"@public")," - considered stable and are available in the main package entry\npoint."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"@beta")," - Not visible in the main package entry point, beta exports must be\naccessed via ",(0,a.kt)("inlineCode",{parentName:"li"},"<package-name>/beta")," or ",(0,a.kt)("inlineCode",{parentName:"li"},"<package-name>/alpha")," imports."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"@alpha")," - here be dragons. Not visible in the main package entry point, alpha\nexports must be accessed via ",(0,a.kt)("inlineCode",{parentName:"li"},"<package-name>/alpha")," imports.")),(0,a.kt)("h2",r({},{id:"nodejs-releases"}),"Node.js Releases"),(0,a.kt)("p",null,"The Backstage project uses ",(0,a.kt)("a",r({parentName:"p"},{href:"https://nodejs.org/"}),"Node.js")," for both its development\ntooling and backend runtime. In order for expectations to be clear we use the\nfollowing schedule for determining the ",(0,a.kt)("a",r({parentName:"p"},{href:"https://nodejs.org/en/about/releases/"}),"Node.js releases")," that we support:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"At any given point in time we support exactly two adjacent even-numbered\nreleases of Node.js, for example v12 and v14."),(0,a.kt)("li",{parentName:"ul"},"Once a new Node.js release becomes ",(0,a.kt)("em",{parentName:"li"},"Active LTS")," we switch to support that\nrelease and the previous one. The switch is not immediate but done as soon\nas possible. You can find the Node.js version supported by each release\nin the ",(0,a.kt)("inlineCode",{parentName:"li"},"engines")," field in the root ",(0,a.kt)("inlineCode",{parentName:"li"},"package.json")," of a new app.")),(0,a.kt)("p",null,"When we say ",(0,a.kt)("em",{parentName:"p"},"Supporting")," a Node.js release, that means the following:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"The CI pipeline in the main Backstage repo tests towards the supported releases, and we encourage any other Backstage related projects to do the same."),(0,a.kt)("li",{parentName:"ul"},"New Backstage projects created with ",(0,a.kt)("inlineCode",{parentName:"li"},"@backstage/create-app")," will have their ",(0,a.kt)("inlineCode",{parentName:"li"},"engines.node")," version set accordingly."),(0,a.kt)("li",{parentName:"ul"},"Dropping compatibility with unsupported releases is not considered a breaking change. This includes using new syntax or APIs, as well as bumping dependencies that drop support for these versions.")))}d.isMDXComponent=!0},862525:e=>{var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(e){a[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(r){return!1}}()?Object.assign:function(e,i){for(var o,l,s=r(e),c=1;c<arguments.length;c++){for(var p in o=Object(arguments[c]))n.call(o,p)&&(s[p]=o[p]);if(t){l=t(o);for(var u=0;u<l.length;u++)a.call(o,l[u])&&(s[l[u]]=o[l[u]])}}return s}},541535:(e,t,n)=>{var a=n(862525),r=60103,i=60106;var o=60109,l=60110,s=60112;var c=60115,p=60116;if("function"==typeof Symbol&&Symbol.for){var u=Symbol.for;r=u("react.element"),i=u("react.portal"),u("react.fragment"),u("react.strict_mode"),u("react.profiler"),o=u("react.provider"),l=u("react.context"),s=u("react.forward_ref"),u("react.suspense"),c=u("react.memo"),p=u("react.lazy")}var d="function"==typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f={};function m(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||g}function k(){}function y(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||g}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},k.prototype=m.prototype;var v=y.prototype=new k;v.constructor=y,a(v,m.prototype),v.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,N={key:!0,ref:!0,__self:!0,__source:!0};function j(e,t,n){var a,i={},o=null,l=null;if(null!=t)for(a in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,a)&&!N.hasOwnProperty(a)&&(i[a]=t[a]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var c=Array(s),p=0;p<s;p++)c[p]=arguments[p+2];i.children=c}if(e&&e.defaultProps)for(a in s=e.defaultProps)void 0===i[a]&&(i[a]=s[a]);return{$$typeof:r,type:e,key:o,ref:l,props:i,_owner:b.current}}function O(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var C=/\/+/g;function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,n,a,o){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var s=!1;if(null===e)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case r:case i:s=!0}}if(s)return o=o(s=e),e=""===a?"."+T(s,0):a,Array.isArray(o)?(n="",null!=e&&(n=e.replace(C,"$&/")+"/"),x(o,t,n,"",(function(e){return e}))):null!=o&&(O(o)&&(o=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",Array.isArray(e))for(var c=0;c<e.length;c++){var p=a+T(l=e[c],c);s+=x(l,t,n,p,o)}else if(p=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"==typeof p)for(e=p.call(e),c=0;!(l=e.next()).done;)s+=x(l=l.value,t,n,p=a+T(l,c++),o);else if("object"===l)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function P(e,t,n){if(null==e)return e;var a=[],r=0;return x(e,a,"","",(function(e){return t.call(n,e,r++)})),a}function B(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var S={current:null};function R(){var e=S.current;if(null===e)throw Error(h(321));return e}},827378:(e,t,n)=>{n(541535)}}]);